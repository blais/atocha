<?xml version="1.0" encoding="iso-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="generator" content="Docutils 0.3.10: http://docutils.sourceforge.net/" />
<title>atocha: Web Forms Library</title>
<link rel="stylesheet" href="style.css" type="text/css" />
</head>
<body>

<div id="project-header">
  <a href="/"><img src="/home/furius-logo-w.png" id="logo"></a>
  
</div>

<div id="download-link"><a href="/downloads/atocha">Download</a></div>

<div class="document" id="atocha-web-forms-library">
<h1 class="title">atocha: Web Forms Library</h1>
<div class="contents topic">
<p class="topic-title first"><a id="contents" name="contents">Contents</a></p>
<ul class="simple">
<li><a class="reference" href="#description" id="id4" name="id4">Description</a><ul>
<li><a class="reference" href="#motivation" id="id5" name="id5">Motivation</a></li>
</ul>
</li>
<li><a class="reference" href="#documentation" id="id6" name="id6">Documentation</a></li>
<li><a class="reference" href="#features" id="id7" name="id7">Features</a></li>
<li><a class="reference" href="#online-demo" id="id8" name="id8">Online Demo</a></li>
<li><a class="reference" href="#download" id="id9" name="id9">Download</a></li>
<li><a class="reference" href="#reporting-bugs" id="id10" name="id10">Reporting Bugs</a><ul>
<li><a class="reference" href="#bugs" id="id11" name="id11">Bugs</a></li>
<li><a class="reference" href="#support-and-stability" id="id12" name="id12">Support and Stability</a></li>
</ul>
</li>
<li><a class="reference" href="#links" id="id13" name="id13">Links</a></li>
<li><a class="reference" href="#installation-and-dependencies" id="id14" name="id14">Installation and Dependencies</a></li>
<li><a class="reference" href="#copyright-and-license" id="id15" name="id15">Copyright and License</a></li>
<li><a class="reference" href="#acknowledgements" id="id16" name="id16">Acknowledgements</a></li>
<li><a class="reference" href="#author" id="id17" name="id17">Author</a></li>
</ul>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id4" id="description" name="description">Description</a></h1>
<p>Atocha is a Python package for <em>parsing</em> and <em>rendering</em> data from web forms.
It is framework-agnostic, generic, and it should be possible to use it with CGI
scrips or to incorporate it in your favourite web application framework.</p>
<div class="section">
<h2><a class="toc-backref" href="#id5" id="motivation" name="motivation">Motivation</a></h2>
<p>Just before I decided to write this software (2005-09-30), I had the following
problems:</p>
<ul class="simple">
<li>There was no library that could parse input from widgets and perform automatic
types conversions reliably, that was both decent and <strong>simple</strong>, or that was
not tied to a specific web application framework.  (A few options were
starting to sprout and mature around that time, such as <a class="reference" href="http://formencode.org/">FormEncode</a>);</li>
<li>I was having lots of trouble in the various data paths of my handlers with
type conversions, often having unicode encoding problems;</li>
<li>I felt that the problem of handling and rendering web forms were really tied
closely, and that it could be solved in a generic manner.</li>
</ul>
<p>At the time, I had written my own web application framework, and a small form
library I had copied from somewhere had grown into a messy monster. So I decided
to attack the problem directly and rewrite my forms handling generically, with
the following goals in mind:</p>
<ol class="arabic simple">
<li>Reuse the form definition for parsing submitted arguments as well as
rendering and displaying data (leverage the knowledge stored in the form
definition as much as possible);</li>
<li>Robustness: an emphasis on <strong>strict type checking</strong> and robustness via tests;</li>
<li>Fields automatically perform appropriate type conversion when returning the
parsed value to the user; Like desktop UI toolkit widgets, fields may return
all sorts of data types.  Also, fields can use multiple HTML input widgets,
the notion of input and its mechanism are separate.</li>
</ol>
<p>Essentially, I wanted functionality closer to what desktop UI toolkits provide,
which is often not present in web form parsing toolkits.</p>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id6" id="documentation" name="documentation">Documentation</a></h1>
<p>Ultimately, you'll have to delve into the heavily documented code to find out
about all the gory details, but the simple introduction in this section will
give you a taste for what the library can do for you.</p>
<p>Some documents:</p>
<ul class="simple">
<li><a class="reference" href="doc/tutorial.html">Overview and Tutorial</a></li>
<li><a class="reference" href="doc/fields.html">Fields Reference List</a></li>
<li><a class="reference" href="doc/design.html">Design Notes</a></li>
<li><a class="reference" href="doc/handpath.html">Data Flow and Data Paths</a></li>
<li><a class="reference" href="doc/develop.html">Developer's Guide</a></li>
</ul>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id7" id="features" name="features">Features</a></h1>
<ul class="simple">
<li><strong>Generic</strong> library that is possible to reused in many frameworks and
applications.  It is not tied to any storage model or domain model, this
library provides the data, and you must then store the data yourself. This
makes sense, as user-interfaces may change but the underlying data model
remain the same;</li>
<li><strong>Extensible</strong>: it is easy to create and add new field types without having to
modify the framework.  It is also possible to create renderers for your
favourite output library (e.g. Stan)</li>
<li>Fields may render to <strong>multiple input widgets</strong> and are consolidated in a
single value automatically;</li>
<li><strong>Internationalization (I18n)</strong> of all messages is supported (all messages
generated by the library are grouped in a s single place and can be easily
customized);</li>
<li>Supports hidden, disabled, and read-only widgets that can be used for
implementing <strong>multiple-page forms</strong>;</li>
<li>Supports <strong>per-field errors</strong>, to be rendered next to the erroneous widgets;</li>
<li>Supports a UI message and status for the re-rendering a form with errors;</li>
<li>Could easily be extended to support widgets with JavaScript/AJAX code.</li>
</ul>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id8" id="online-demo" name="online-demo">Online Demo</a></h1>
<p>You can try an online demo of a form with all the available widgets, that was
implemented using simple CGI scripts.  You can visit the source code from the
demo web pages too.</p>
<ul class="simple">
<li><a class="reference" href="test/demo/cgi-bin/display.cgi">Online Demo -- Try It Now!</a></li>
</ul>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">This simple demo does not use session management, so if many people
access it at the same time you may be surprised by other people's
values appearing in the results.</p>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id9" id="download" name="download">Download</a></h1>
<p>Snapshots of the latest atocha source code can be found in the <a class="reference" href="/downloads/atocha">Download</a> area.
If you make any modification to the source, please update and run the tests.</p>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id10" id="reporting-bugs" name="reporting-bugs">Reporting Bugs</a></h1>
<div class="section">
<h2><a class="toc-backref" href="#id11" id="bugs" name="bugs">Bugs</a></h2>
<p>If you find bugs, please post them on the <a class="reference" href="http://sourceforge.net/tracker/?group_id=150947">associated SourceForge bug
tracker</a>.  I share my source code in the hope that other users will provide
feedback to improve stability.  Contributions are also welcome.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id12" id="support-and-stability" name="support-and-stability">Support and Stability</a></h2>
<p>I am actively using this library to build a commercial-grade web application and
will actively improve and support the library.  There is a test suite that runs
through the basic features of the library.</p>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id13" id="links" name="links">Links</a></h1>
<ul>
<li><p class="first">Another similar project is the FormEncode library (author: Ian Bicking):
<a class="reference" href="http://formencode.org/">http://formencode.org/</a>.</p>
<p><a class="reference" href="http://formencode.org/">FormEncode</a> is a nice effort, which aims at solving the very same problem as
this project.  My comments on <a class="reference" href="http://formencode.org/">FormEncode</a>, in comparison to Atocha:</p>
<ul class="simple">
<li>I don't like having to write validator classes, I like to put my validation
code inside my resource handler code, because it is pretty much always
different for every form, so there is not much opportunity for reuse anyway.
For the few cases where I do validate results the same way, I simply write a
function that uses the parser object;</li>
<li>I find all the metaclass stuff in <a class="reference" href="http://formencode.org/">FormEncode</a> entirely unnecessary and very
distracting.  I like code that is lean and simple;</li>
<li>I need to use an HTML output library that is a tree of nodes (htmlout) and
so I really needed to have decoupled renderer code that produces only nodes
rather than text;</li>
<li>I don't know if the kind of per-error message with the ability to specify an
invalid replacement value for re-rendering can be produced as easily as with
Atocha (I would need to study FormEncode to find out).</li>
</ul>
<p>That being said, I did not really make an effort to try to use <a class="reference" href="http://formencode.org/">FormEncode</a>, at
the time when I discovered it I had already pretty much finished my library.</p>
</li>
</ul>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id14" id="installation-and-dependencies" name="installation-and-dependencies">Installation and Dependencies</a></h1>
<ul class="simple">
<li>Python &gt;=2.3</li>
</ul>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id15" id="copyright-and-license" name="copyright-and-license">Copyright and License</a></h1>
<p>Copyright (C) 2005  Martin Blais.
This code is distributed under the <a class="reference" href="COPYING">GNU General Public License</a>.</p>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id16" id="acknowledgements" name="acknowledgements">Acknowledgements</a></h1>
<p>The Atocha library has evolved a lot from my original use of the form.py file in
the <a class="reference" href="http://draco.boskant.nl/">draco framework</a> written by Geert Jansen.  I originally copied and
modified the file quite a bit, and at some point I got really frustrated in my
mess, being constantly in data type conversion hell and decided to rewrite the
whole thing completely, with a particular emphasis on identifying and checking
the types which flow throughout the life of a request.</p>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id17" id="author" name="author">Author</a></h1>
<p>Martin Blais &lt;<a class="reference" href="mailto:blais&#64;furius.ca">blais&#64;furius.ca</a>&gt;</p>
</div>
</div>
</body>
</html>
